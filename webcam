import cv2
from matplotlib import pyplot as plt 

imcap = cv2.VideoCapture(0) # Initialize camera
imcap.set(3,640) # Set width
imcap.set(4,480) # Set height   

while True:
    success, img = imcap.read() #Set image as frames from camera
    #Image processing
    img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    img_rgb = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
<<<<<<< Updated upstream:webcam

    data_set = cv2.CascadeClassifier('stop_data.xml' ) #Initialize reference data set
    d_object = data_set.detectMultiScale(img_gray, minSize = (20,20)) #Detect object from grayscale with a minimum size of 20x20 pixels
    faceCascade = cv2.CascadeClassifier(cv2.data.haarcascades + "haarcascade_frontalface_default.xml")
    faces = faceCascade.detectMultiScale(img_gray, 1.3, 5)

    for (x, y, w, h) in d_object:
        img = cv2.rectangle (img_rgb, (x, y), (x + h, y + w), (0, 0, 255), 5) #Create boarder lines on detect objects
    for (x, y, w, h) in faces:
        img = cv2.rectangle (img, (x, y), (x + w, y + h), (0, 255, 0), 3)
=======
    
    indices = cv2.dnn.NMSBoxes(boxes,confidences,conf_threshold,nms_threshold) #non max supression
    data_set = cv2.CascadeClassifier('.xml') #Initialize reference data set
    faceCascade = cv2.cascadeClassifier(cv2.data.haarcascades + "haarcascade_frontalface_default.xml")
    object = data_set.detectMultiScale(img_gray, minSize = (20,20)) #Detect object from grayscale with a minimum size of 20x20 pixels
    faces = faceCascade.detectMultiScale(img_gray, 1.3, 5)

    
    for (x, y, w, h) in d_object:
        img = cv2.rectangle (img_rgb, (x, y), (x + h, y + w), (0, 0, 255), 5) #Create boarder lines on detect objects
        
    for (x, y, w, h) in faces:
        img = cv2.rectangle (img_gray, 1.3, 5)
    
>>>>>>> Stashed changes:OnFDTest.py
    cv2.imshow('Camera', img) #Display window with the name camera and display image
    if cv2.waitKey(10) & 0xFF == ord('q'): #Stop program when q is pressed
        break

imcap.release()
cv2.destroyWindow('Camera')
